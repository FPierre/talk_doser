<!doctype html>
<html lang='fr'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Talk Doser</title>
  </head>
  <body>

    <p>10 mots les plus prononc√©s</p>
    <ol id='most-used-words'></ol>

    <script>
      var request = new XMLHttpRequest()
      var response = {}

      var mostUsedWords = document.getElementById('most-used-words')

      request.onreadystatechange = function () {
        if (request.readyState === 4 && request.status === 200) {
          response = JSON.parse(request.responseText)

          var tenMostUsedWords = response.words.slice(0, 10)
          var wordsList = ''

          tenMostUsedWords.forEach((word) => {
            wordsList += `<li>${Object.keys(word)[0]} : ${Object.values(word)[0]}</li>`
          })

          mostUsedWords.innerHTML = wordsList
        }
      }

      request.open('GET', 'http://localhost:8081')
      request.send()
    </script>
  </body>
</html>
